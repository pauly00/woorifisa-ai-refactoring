# 🛠️ AI-driven Legacy Code Refactoring

> **AI를 활용한 로직 손실 없는 레거시 코드 리팩토링**

<br>

FISA 프론트엔드 기술 세미나에서 진행한 **AI를 활용한 로직 손실 없는 레거시 코드 리팩토링**를 정리한 저장소입니다.

금융권 등에서 빈번히 마주하는 복잡한 레거시 코드를, **테스트 코드**와 **프롬프트 엔지니어링**을 결합하여 안정적으로 현대화하는 과정을 다룹니다.

## 📌 Overview (개요)

**주제:** AI를 활용한 레거시 코드 (로직 손실 없는) 리팩토링 

**팀원:** 고희연, 김시온, 류경록, 박지은

**대상 라이브러리:** `accounting.js` (JavaScript)

**핵심 목표:**

- 비즈니스 로직 변경 없이 코드 구조 개선
- 기존 테스트 케이스(QUnit) 100% 통과 유지
- 최적의 AI 프롬프트 전략 도출


## 배경 (Background)

금융권 시스템은 오랜 기간 운영되며 누적된 **레거시 코드(Legacy Code)** 비중이 높습니다. 이러한 코드는 수정 시 사이드 이펙트(Side Effect) 위험이 커 유지보수가 어렵습니다. 본 프로젝트는 **"생성형 AI가 복잡한 레거시 코드의 리팩토링을 얼마나 신뢰성 있게 수행할 수 있는가?"** 라는 질문에서 출발했습니다.

## 🧪 방법론 (Methodology)

### 1. 안전장치 확보: 테스트 코드 (Safety Net)

리팩토링의 대전제인 "동작 보존"을 검증하기 위해 기존 라이브러리의 **QUnit 테스트 슈트**를 활용했습니다.

* AI가 코드를 수정한 후, 테스트를 통과하지 못하면 실패로 간주하고 재수정 프로세스를 거침.

### 2. 프롬프트 엔지니어링 실험 (Prompt Engineering)

단순 요청보다 정교한 프롬프트 기법이 리팩토링 품질에 미치는 영향을 비교 실험했습니다.

| 기법 | 설명 | 결과 |
| --- | --- | --- |
| **CoT (Chain of Thought)** | AI에게 생각의 과정을 단계별로 서술하게 한 뒤 코드 수정 | 논리적 흐름은 좋으나, 코드 구현 단계에서 종종 로직 누락 발생 |
| **Iterative Prompting** | **(채택)** 역할 부여 -> 분석 -> 계획 -> 구현 -> 검증 단계를 끊어서 대화형으로 진행 | **가장 안정적인 결과 도출.** 단계별 피드백이 가능하여 환각(Hallucination) 감소 |

## 🚀 리팩토링 과정 (Process)

1. **Target 선정:** `accounting.js` (화폐 및 숫자 포맷팅 라이브러리)
2. **AS-IS 분석:** 난독화에 가까운 변수명, 중첩된 조건문, 전역 오염 등 식별
3. **AI 리팩토링 수행 (Iterative Approach):**
* *Step 1:* 코드의 의도와 비즈니스 로직 분석 요청
* *Step 2:* 변수명 직관화 및 모듈 분리 제안
* *Step 3:* 리팩토링 코드 생성


4. **검증:** QUnit 테스트 수행 -> Pass/Fail 확인

## 📊 결과 및 인사이트 (Results & Insights)

* **안정성 확보:** Iterative Prompting 방식을 통해 기존 기능의 100% 정상 동작을 검증했습니다.
* **개발자의 역할 변화:** AI가 코드를 작성하더라도, **"무엇을(What) 리팩토링할 것인가"**를 정의하고 **"결과가 맞는지(Verification)"** 판단하는 개발자의 역량이 더욱 중요함을 확인했습니다.
* **한계:** 매우 긴 의존성을 가진 스파게티 코드의 경우, AI의 컨텍스트 윈도우 한계로 인해 부분적 리팩토링만 가능한 경우가 있었습니다.

## 📂 자료 (Resources)

* **Presentation Slides:** [발표자료 링크 추가 예정]
* **Refactored Code:** [소스코드 링크]

---

### Tech Stack


---

### 💡 Tip

이 README를 GitHub 저장소의 `README.md` 파일로 저장하시면 됩니다. 발표 때 사용하셨던 **PPT 장표 중 'CoT vs Iterative 비교' 이미지**나 **'리팩토링 전후 코드 비교' 스크린샷**을 캡처해서 중간중간 넣어주시면 훨씬 퀄리티가 높아집니다!
